!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.MinDom={})}(this,function(e){"use strict";var t=[].indexOf,r=function(e,r){if(t)return e.indexOf(r);for(var n=0;n<e.length;++n)if(e[n]===r)return n;return-1},n=/\s+/,i=Object.prototype.toString;function o(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}o.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~r(t,e)||t.push(e),this.el.className=t.join(" "),this},o.prototype.remove=function(e){if("[object RegExp]"==i.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},o.prototype.removeMatching=function(e){for(var t=this.array(),r=0;r<t.length;r++)e.test(t[r])&&this.remove(t[r]);return this},o.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},o.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(n);return""===e[0]&&e.shift(),e},o.prototype.has=o.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)};var l=Element.prototype,s=l.matchesSelector||l.webkitMatchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector,a=function(e,t){if(s)return s.call(e,t);for(var r=e.parentNode.querySelectorAll(t),n=0;n<r.length;++n)if(r[n]==e)return!0;return!1};var c,d=function(e,t,r){for(var n=r?e:e.parentNode;n&&n!==document;){if(a(n,t))return n;n=n.parentNode}},u=window.addEventListener?"addEventListener":"attachEvent",h=window.removeEventListener?"removeEventListener":"detachEvent",f="addEventListener"!==u?"on":"",p={bind:function(e,t,r,n){return e[u](f+t,r,n||!1),r},unbind:function(e,t,r,n){return e[h](f+t,r,n||!1),r}},v=["focus","blur"],m={bind:function(e,t,r,n,i){return-1!==v.indexOf(r)&&(i=!0),p.bind(e,r,function(r){var i=r.target||r.srcElement;r.delegateTarget=d(i,t,!0),r.delegateTarget&&n.call(e,r)},i)},unbind:function(e,t,r,n){-1!==v.indexOf(t)&&(n=!0),p.unbind(e,t,r,n)}},g=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var r=/<([\w:]+)/.exec(e);if(!r)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var n=r[1];if("body"==n){var i=t.createElement("html");return i.innerHTML=e,i.removeChild(i.lastChild)}var o=b[n]||b._default,l=o[0],s=o[1],a=o[2];(i=t.createElement("div")).innerHTML=s+e+a;for(;l--;)i=i.lastChild;if(i.firstChild==i.lastChild)return i.removeChild(i.firstChild);var c=t.createDocumentFragment();for(;i.firstChild;)c.appendChild(i.removeChild(i.firstChild));return c},y=!1;"undefined"!=typeof document&&((c=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',y=!c.getElementsByTagName("link").length,c=void 0);var b={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:y?[1,"X<div>","</div>"]:[0,"",""]};b.td=b.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],b.option=b.optgroup=[1,'<select multiple="multiple">',"</select>"],b.thead=b.tbody=b.colgroup=b.caption=b.tfoot=[1,"<table>","</table>"],b.polyline=b.ellipse=b.polygon=b.circle=b.text=b.line=b.path=b.rect=b.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var E="undefined"!=typeof Element?Element.prototype:{},w=E.matches||E.matchesSelector||E.webkitMatchesSelector||E.mozMatchesSelector||E.msMatchesSelector||E.oMatchesSelector,M=function(e,t){if(!e||1!==e.nodeType)return!1;if(w)return w.call(e,t);for(var r=e.parentNode.querySelectorAll(t),n=0;n<r.length;n++)if(r[n]==e)return!0;return!1};e.attr=function(e,t,r){return 2==arguments.length?e.getAttribute(t):null===r?e.removeAttribute(t):(e.setAttribute(t,r),e)},e.classes=function(e){return new o(e)},e.clear=function(e){for(var t;e.childNodes.length;)t=e.childNodes[0],e.removeChild(t);return e},e.closest=d,e.delegate=m,e.domify=g,e.event=p,e.matches=M,e.query=function(e,t){return(t=t||document).querySelector(e)},e.queryAll=function(e,t){return(t=t||document).querySelectorAll(e)},e.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)},Object.defineProperty(e,"__esModule",{value:!0})});
