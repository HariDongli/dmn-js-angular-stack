!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.TinySVG={})}(this,function(t){"use strict";function e(t,e){if(t.ownerDocument!==e.ownerDocument)try{return e.ownerDocument.importNode(t,!0)}catch(t){}return t}function r(t,r){return r.appendChild(e(t,r)),t}var n=2,i={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":n,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":n,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function o(t,e,r){var o=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=i[o];s?(s===n&&"number"==typeof r&&(r=String(r)+"px"),t.style[o]=r):t.setAttributeNS(null,e,r)}function s(t,e,r){if("string"==typeof e){if(void 0===r)return function(t,e){return i[e]?t.style[e]:t.getAttributeNS(null,e)}(t,e);o(t,e,r)}else!function(t,e){var r,n,i=Object.keys(e);for(r=0;n=i[r];r++)o(t,n,e[n])}(t,e);return t}function a(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}var c=/\s+/,l=Object.prototype.toString;function u(t){return void 0!==t}function f(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}function h(t){var e=t.parentNode;return e&&e.removeChild(t),t}function p(t){for(var e;e=t.firstChild;)h(e);return t}f.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array();return~a(e,t)||e.push(t),u(this.el.className.baseVal)?this.el.className.baseVal=e.join(" "):this.el.className=e.join(" "),this},f.prototype.remove=function(t){if("[object RegExp]"===l.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),r=a(e,t);return~r&&e.splice(r,1),this.el.className.baseVal=e.join(" "),this},f.prototype.removeMatching=function(t){for(var e=this.array(),r=0;r<e.length;r++)t.test(e[r])&&this.remove(e[r]);return this},f.prototype.toggle=function(t,e){return this.list?(u(e)?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):(u(e)?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},f.prototype.array=function(){var t=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(c);return""===t[0]&&t.shift(),t},f.prototype.has=f.prototype.contains=function(t){return this.list?this.list.contains(t):!!~a(this.array(),t)};var d={svg:"http://www.w3.org/2000/svg"},g='<svg xmlns="'+d.svg+'"';function m(t){return"<svg"===t.substring(0,4)?-1===t.indexOf(d.svg)&&(t=g+t.substring(4)):t=g+">"+t+"</svg>",function(t){var e;return(e=new DOMParser).async=!1,e.parseFromString(t,"text/xml")}(t)}function v(t,e){var r;return"<"===t.charAt(0)?(r=m(t).firstChild,r=document.importNode(r,!0)):r=document.createElementNS(d.svg,t),e&&s(r,e),r}var y=v("svg");function b(t,e){var r,n,i=Object.keys(e);for(r=0;n=i[r];r++)t[n]=e[n];return t}var x=/([&<>]{1})/g,w=/([\n\r"]{1})/g,k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function S(t,e){return t.replace(e,function(t,e){return k[e]||e})}function N(t,e){var r,n,i,o,s;switch(t.nodeType){case 3:e.push(S(t.textContent,x));break;case 1:if(e.push("<",t.tagName),t.hasAttributes())for(r=0,n=(i=t.attributes).length;r<n;++r)o=i.item(r),e.push(" ",o.name,'="',S(o.value,w),'"');if(t.hasChildNodes()){for(e.push(">"),r=0,n=(s=t.childNodes).length;r<n;++r)N(s.item(r),e);e.push("</",t.tagName,">")}else e.push("/>");break;case 8:e.push("\x3c!--",S(t.nodeValue,x),"--\x3e");break;case 4:e.push("<![CDATA[",t.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+t.nodeType)}return e}function V(t,e){return e instanceof SVGMatrix?t.createSVGTransformFromMatrix(e):e}t.append=function(t,e){return r(e,t),t},t.appendTo=r,t.attr=s,t.classes=function(t){return new f(t)},t.clear=p,t.clone=function(t){return t.cloneNode(!0)},t.create=v,t.innerSVG=function(t,e){if(void 0!==e){try{!function(t,e){var n,i=m(e).documentElement;if(p(t),e)for(n=i.firstChild;n;)r(n,t),n=n.nextSibling}(t,e)}catch(t){throw new Error("error parsing SVG: "+t.message)}return t}return function(t){for(var e=t.firstChild,r=[];e;)N(e,r),e=e.nextSibling;return r.join("")}(t)},t.remove=h,t.replace=function(t,r){return t.parentNode.replaceChild(e(r,t),t),r},t.transform=function(t,e){var r=t.transform.baseVal;if(1===arguments.length)return r.consolidate();e.length?function(t,e){var r,n;for(t.clear(),r=0;n=e[r];r++)t.appendItem(V(t,n));t.consolidate()}(r,e):r.initialize(V(r,e))},t.on=function(t,e,r,n){t.addEventListener(e,r,n)},t.off=function(t,e,r,n){t.removeEventListener(e,r,n)},t.createPoint=function(t,e){var r=y.createSVGPoint();switch(arguments.length){case 0:return r;case 2:t={x:t,y:e}}return b(r,t)},t.createMatrix=function(t,e,r,n,i,o){var s=y.createSVGMatrix();switch(arguments.length){case 0:return s;case 6:t={a:t,b:e,c:r,d:n,e:i,f:o}}return b(s,t)},t.createTransform=function(t){return t?y.createSVGTransformFromMatrix(t):y.createSVGTransform()},t.select=function(t,e){return t.querySelector(e)},t.selectAll=function(t,e){var r=t.querySelectorAll(e);return[].map.call(r,function(t){return t})},Object.defineProperty(t,"__esModule",{value:!0})});
